"use strict";$(document).ready(function(){function e(e){this.type=e}function n(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var t="";null!=(t=(""==e.val()||(e.val(),e.attr("data-value")),e.data("error")))&&e.parent().append('<div class="form__error">'+t+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");0<e.parents(".select-block").length&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function i(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),0<e.parents(".select-block").length&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}$(window).outerWidth(),$(window).outerHeight();var t=window.navigator.userAgent,a=(t.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.Android()||a.BlackBerry()||a.iOS()||a.Opera()||a.Windows()}});(-1<(t=navigator.userAgent).indexOf("MSIE ")||-1<t.indexOf("Trident/"))&&$("body").addClass("ie"),a.any()&&$("body").addClass("touch"),$(".header-menu__icon").click(function(e){$(this).toggleClass("active"),$(".header-menu-hide").toggleClass("active"),$(this).hasClass("active")&&$("body").data("scroll",$(window).scrollTop()),$("body").toggleClass("lock"),$(this).hasClass("active")||$("body,html").scrollTop(parseInt($("body").data("scroll")))}),$.each($(".ibg"),function(e,t){0<$(this).find("img").length&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')}),$(".goto").click(function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0},500,function(){}),$(".header-menu-hide").hasClass("active")&&($(".header-menu-hide,.header-menu__icon").removeClass("active"),$("body").removeClass("lock")),!1});var s=document.querySelectorAll("._anim-items");if(0<s.length){var r=function(){for(var e=0;e<s.length;e++){var t=s[e],a=t.offsetHeight,r=o(t).top,n=window.innerHeight-a/4;a>window.innerHeight&&(n=window.innerHeight-window.innerHeight/4),pageYOffset>r-n&&pageYOffset<r+a?t.classList.add("_active"):t.classList.contains("_anim-no-hide")||t.classList.remove("_active")}},o=function(e){var t=e.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+a}};window.addEventListener("scroll",r),setTimeout(function(){r()},300)}e.prototype.init=function(){var s=this,o=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e],a=t.dataset.da.trim().split(","),r={};r.element=t,r.parent=t.parentNode,r.destination=document.querySelector(a[0].trim()),r.breakpoint=a[1]?a[1].trim():"767",r.place=a[2]?a[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.оbjects.push(r)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint},this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,function(e,t,a){return Array.prototype.indexOf.call(a,e)===t});for(var n=function(e){var t=s.mediaQueries[e],a=String.prototype.split.call(t,","),r=window.matchMedia(a[0]),n=a[1],i=Array.prototype.filter.call(s.оbjects,function(e){return e.breakpoint===n});r.addListener(function(){o.mediaHandler(r,i)}),s.mediaHandler(r,i)},i=0;i<this.mediaQueries.length;i++)n(i)},e.prototype.mediaHandler=function(e,t){if(e.matches)for(var a=0;a<t.length;a++){var r=t[a];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(var n=0;n<t.length;n++){var i=t[n];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},e.prototype.moveTo=function(e,t,a){t.classList.add(this.daClassname),"last"===e||e>=a.children.length?a.insertAdjacentElement("beforeend",t):"first"!==e?a.children[e].insertAdjacentElement("beforebegin",t):a.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,a){t.classList.remove(this.daClassname),void 0!==e.children[a]?e.children[a].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){var a=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(a,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint}):Array.prototype.sort.call(e,function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint})},new e("max").init(),0<$("#map").length&&function(e){google.maps.Map.prototype.setCenterWithOffset=function(a,r,n){var i=this,e=new google.maps.OverlayView;e.onAdd=function(){var e=this.getProjection(),t=e.fromLatLngToContainerPixel(a);t.x=t.x+r,t.y=t.y+n,i.panTo(e.fromContainerPixelToLatLng(t))},e.draw=function(){},e.setMap(this)};for(var t=new Array,a=(new google.maps.InfoWindow({}),[[new google.maps.LatLng(40.695184,-73.969819)]]),r={zoom:10,panControl:!1,mapTypeControl:!1,center:a[0][0],scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(document.getElementById("map"),r),i=(new google.maps.Size(18,20),new google.maps.Point(9,10),0);i<a.length;i++){var s=new google.maps.Marker({position:a[i][0],map:n});t.push(s)}}(),$("input,textarea").focus(function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),i($(this))}),$("input[data-value], textarea[data-value]").each(function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click(function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")}),$(this).blur(function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))})}),$("form button[type=submit]").click(function(){var a=0,e=$(this).parents("form"),t=e.data("ms");return $.each(e.find(".req"),function(e,t){a+=function(e){var t=0,a=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var r=e.val().replace(" ","");e.val(r)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e.val())&&e.val()!=e.attr("data-value")?i(e):(t++,n(e))}else""==e.val()||e.val()==e.attr("data-value")?(t++,n(e)):i(e);return"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(t++,e.addClass("err").parent().addClass("err"))),e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(t++,n(e))),e.hasClass("pass-2")&&(a.find(".pass-1").val()!=a.find(".pass-2").val()?n(e):i(e)),t}($(this))}),0==a&&(e.find(".form__generalerror").hide().html(""),null!=t&&""!=t?(showMessageByClass(t),!1):void 0)})});